## Lab 21

## Difference between `ENTRYPOINT` and `CMD` instructions.
`ENTRYPOINT` is meant to provide the executable while `CMD` is to pass the default arguments to the executable.

## Dockerfile
```
FROM busybox:latest
CMD [ "/etc/passwd", "/etc/hosts" ]
ENTRYPOINT [ "cat" ]
```

## Building image
```
docker build -t inderpal2406/busybox-cmd-entrypoint:v0.0.1 .

Sending build context to Docker daemon  3.072kB
Step 1/3 : FROM busybox:latest
latest: Pulling from library/busybox
7c9d20b9b6cd: Pull complete
Digest: sha256:fe301db49df08c384001ed752dff6d52b4305a73a7f608f21528048e8a08b51e
Status: Downloaded newer image for busybox:latest
 ---> 19485c79a9bb
Step 2/3 : CMD [ "/etc/passwd", "/etc/hosts" ]
 ---> Running in 69d9fbd09170
Removing intermediate container 69d9fbd09170
 ---> adb3c024d57c
Step 3/3 : ENTRYPOINT [ "cat" ]
 ---> Running in 2f220c506aed
Removing intermediate container 2f220c506aed
 ---> 96d8bf1a4e41
Successfully built 96d8bf1a4e41
Successfully tagged inderpal2406/busybox-cmd-entrypoint:v0.0.1
```

## Running container
```
docker run inderpal2406/busybox-cmd-entrypoint:v0.0.1

root:x:0:0:root:/root:/bin/sh
daemon:x:1:1:daemon:/usr/sbin:/bin/false
bin:x:2:2:bin:/bin:/bin/false
sys:x:3:3:sys:/dev:/bin/false
sync:x:4:100:sync:/bin:/bin/sync
mail:x:8:8:mail:/var/spool/mail:/bin/false
www-data:x:33:33:www-data:/var/www:/bin/false
operator:x:37:37:Operator:/var:/bin/false
nobody:x:65534:65534:nobody:/home:/bin/false
127.0.0.1	localhost
::1	localhost ip6-localhost ip6-loopback
fe00::0	ip6-localnet
ff00::0	ip6-mcastprefix
ff02::1	ip6-allnodes
ff02::2	ip6-allrouters
172.17.0.3	2c180ff9f6bc
```

## Supplying command line argument.
```
docker run inderpal2406/busybox-cmd-entrypoint:v0.0.1 /etc/resolv.conf

# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
search corp.capgemini.com
nameserver	8.8.8.8
```

This clearly state that ENTRYPOINT is meant to provide the executable while CMD is to pass the default arguments to the executable.
